# ChatList

Приложение для сравнения ответов различных нейросетей на один и тот же промт.

## Возможности

- Отправка одного промта в несколько нейросетей одновременно
- Сравнение ответов в удобной таблице
- Сохранение промтов и результатов в базу данных
- Управление моделями нейросетей
- Просмотр истории промтов и результатов
- Экспорт результатов в Markdown и JSON
- Поиск и сортировка по промтам и результатам

## Требования

- Python 3.11+
- SQLite (встроен в Python)
- PyQt5
- OpenRouter API ключ

## Установка

1. Клонируйте репозиторий или скачайте проект

2. Создайте виртуальное окружение (если еще не создано):
```powershell
python -m venv venv
```

3. Активируйте виртуальное окружение:
```powershell
.\venv\Scripts\Activate.ps1
```

4. Установите зависимости:
```powershell
pip install -r requirements.txt
```

5. Создайте файл `.env` на основе `env.example`:
```powershell
Copy-Item env.example .env
```

6. Откройте файл `.env` и добавьте свой OpenRouter API ключ:
```
OPENROUTER_API_KEY=ваш_api_ключ_здесь
```

Получить API ключ можно на [OpenRouter.ai](https://openrouter.ai/)

## Запуск

Запустите программу:
```powershell
python main.py
```

## Использование

### Основной рабочий процесс

1. **Ввод промта:**
   - Введите новый промт в текстовое поле
   - Или выберите сохранённый промт из выпадающего списка
   - При необходимости добавьте теги (через запятую)

2. **Отправка запроса:**
   - Нажмите кнопку "Отправить"
   - Программа отправит промт во все активные модели
   - Результаты появятся в таблице

3. **Сохранение результатов:**
   - Отметьте нужные результаты чекбоксами
   - Нажмите "Сохранить выбранные"

### Управление моделями

1. Откройте меню **Настройки -> Управление моделями** (или нажмите `Ctrl+M`)
2. В диалоге можно:
   - Активировать/деактивировать модели (чекбоксы)
   - Добавить новую модель
   - Редактировать существующую модель
   - Удалить модель

### Просмотр истории

- **История промтов** (`Ctrl+P`): Просмотр всех сохранённых промтов с поиском и сортировкой
- **История результатов** (`Ctrl+R`): Просмотр всех сохранённых результатов с фильтрацией

### Экспорт результатов

- **Экспорт в Markdown** (`Ctrl+E`): Сохранить результаты в формате Markdown
- **Экспорт в JSON** (`Ctrl+J`): Сохранить результаты в формате JSON

## Горячие клавиши

- `Ctrl+M` - Управление моделями
- `Ctrl+P` - История промтов
- `Ctrl+R` - История результатов
- `Ctrl+E` - Экспорт в Markdown
- `Ctrl+J` - Экспорт в JSON

## Структура проекта

```
CHatList/
├── src/
│   ├── __init__.py
│   ├── db.py              # Работа с базой данных
│   ├── models.py          # Управление моделями
│   ├── network.py         # Сетевые запросы к API
│   ├── export.py          # Экспорт результатов
│   └── ui/
│       ├── __init__.py
│       ├── models_dialog.py      # Диалог управления моделями
│       └── history_dialogs.py    # Диалоги истории
├── main.py                # Главное окно приложения
├── requirements.txt       # Зависимости
├── env.example           # Пример файла переменных окружения
├── chatlist.db          # База данных SQLite (создаётся автоматически)
└── README.md            # Документация
```

## Сборка исполняемого файла

Для создания исполняемого файла используйте скрипт сборки:
```powershell
.\build.ps1
```

Или вручную:
```powershell
pyinstaller --onefile --windowed --name "CHatList" main.py
```

Исполняемый файл будет находиться в папке `dist\CHatList.exe`.

## Поддерживаемые модели

По умолчанию программа настроена на использование бесплатных моделей через OpenRouter:
- `qwen/qwen3-coder:free` - Qwen3 Coder
- `deepseek/deepseek-r1-0528:free` - DeepSeek R1
- `mistralai/devstral-2512:free` - Mistral Devstral 2
- `allenai/molmo-2-8b:free` - AllenAI Molmo2

Вы можете добавить любые другие модели, поддерживаемые OpenRouter, через диалог управления моделями.

## База данных

Программа использует SQLite базу данных `chatlist.db`, которая создаётся автоматически при первом запуске.

Таблицы:
- `prompts` - сохранённые промты
- `models` - настройки моделей нейросетей
- `results` - сохранённые результаты
- `settings` - настройки приложения

## Лицензия

См. файл LICENSE

## Поддержка

При возникновении проблем:
1. Проверьте, что API ключ правильно указан в файле `.env`
2. Убедитесь, что все зависимости установлены
3. Проверьте логи в консоли на наличие ошибок
